(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t){},131:function(e,t){},179:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(79),i=n.n(c),o=(n(88),n(22)),u=n(21),l=n(82),s=n.n(l),m=(n(177),"KT1KrvJxNkudoCp5f8d5tzNFLcTbppfMs84p"),f="TEZOS_BLOCKCHAIN_CAMP_1ST",p=window.eztz;function h(){return console.log("Fetching contract stroage from ",m),Promise.resolve().then(function(){return new Promise(function(e){return p.contract.watch(m,2,e)})}).then(function(e){return e.map(function(e){var t,n=e.args;return{hash:n[0].string,name:(t=n[1].args[0].string,t.replace(/\\u[\dA-F]{4}/gi,function(e){return String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))})),certNum:n[1].args[1].string}})})}p.node.setProvider("http://13.125.254.165:8732/");var d=Object(u.a)(Object(u.d)("data","setData",{email:"",phone:"",storage:[],certificate:null}),Object(u.c)({validate:function(e){return function(t){var n=e.data,a=e.setData,r=function(e,t,n){var a=s.a.createHmac("sha256",f).update("".concat(e).concat(t)).digest("hex");return console.log({email:e,phone:t,hash:a}),n.find(function(e){return e.hash===a})}(n.email,n.phone,n.storage);r&&a(Object(o.a)({},n,{certificate:r}))}}}),Object(u.b)({componentDidMount:function(){var e=this.props,t=e.data,n=e.setData;Promise.resolve().then(h).then(function(e){return n(Object(o.a)({},t,{storage:e}))})}}))(function(e){var t=e.data,n=e.setData,a=e.validate;return r.a.createElement("div",{className:"app"},r.a.createElement("label",null,"Email",r.a.createElement("input",{type:"text",value:t.email,placeholder:"email",onChange:function(e){return n(Object(o.a)({},t,{email:e.target.value.trim()}))}})),r.a.createElement("label",null,"Phone Number (last 4-digit)",r.a.createElement("input",{type:"text",value:t.phone,placeholder:"phone",onChange:function(e){return n(Object(o.a)({},t,{phone:e.target.value.trim()}))}})),r.a.createElement("button",{onClick:a},"Validate"),t.certificate&&r.a.createElement("div",{className:"your-ceritificate"},r.a.createElement("h4",null,"Name: ",t.certificate.name),r.a.createElement("h4",null,"Certificate Number: 201900",t.certificate.certNum)))});i.a.render(r.a.createElement(d,null),document.getElementById("root"))},83:function(e,t,n){e.exports=n(179)},88:function(e,t,n){},93:function(e,t){},95:function(e,t){}},[[83,2,1]]]);
//# sourceMappingURL=main.4b7e1f39.chunk.js.map